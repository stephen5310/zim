Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2022-06-27T16:34:15+02:00

====== Section 6 ======
Created lundi 27 juin 2022

====== Solutions architect associate level ======

===== Elastic IP =====

* Public IPv4 IP
* Owned as long as it is not deleted
* Allow to :
	* have a fixed public IP
	* mask the failure of an instance by rapidly remapping the address to working one
* Maximum 5 per account (can be increased)
* Not recommended
* Instead use a :
	* DNS
	* load-balancer
* Go to Network & Security > Elastic IPs, click on Allocate Elastic IP, fill-in the form then click on **Allocate**
* We are charged as long as the Elastic IP is not used so we have to associate it to an instance ASAP
* To **attach** go to Actions > Associate Elastic IP address, fill-in the form then click on Associate
* To **delete**, first disassociate the release

===== Placement groups =====

* Used to control the EC2 instance placement strategy
* Three strategies available :
	* Cluster : same rack, instances in a single AZ, very low latency, SPOF
	* Spread : different racks, max 7 instances per group per AZ, max HA, Latencies between AZ
	* Partition (physical rack) : instances on different sets of racks within an AZ, 100 instances per group (HDP, Cassandra, Kafka)
* Go to Network & Security > Placement groups, click on Create placement group, fill-in the form then click on Create group
* To launch an instance within a group, during the instance creation go to Advanced details > Placement group name

===== Elastic Network Interfaces (ENI) =====

* Logical network virtual card
* Can have :
	* Primary private IPv4
	* One or more secondary IPv4
	* One Elastic IP per private IPv4
	* One public IPv4
	* One or more Security Groups
	* A MAC address
* Can be created independently and attached on the fly or moved for **failover**
* Bound to a specific AZ
* Go to Network & Security > Network Interfaces > Create network interface
	* Choose the subnet in the same AZ as the EC2 instance you want to attach the ENI to
	* Once created, click on Actions > Attach to attach it to an instance
* ENIs created automatically with instances are deleted with instances
* ENIs created manually allow more control over the network

===== Hibernate =====

* The RAM is preserved, written to a file in the root EBS volume
* The OS is not stopped / restarted, it is like it is still in-memory
* The root volume must be EBS, encrypted, not instance store and have enough space available for the RAM
* Supported by many instance families and many OS
* RAM size must be < 150 GB
* Not available for bare metal
* Available for On-Demand, Reserved and Sport Instances
* **No more than 60 Days**
* It has to be enabled during the instance creation at Advanced details > Stop - Hivernate behavior
* Obviously you must configure the storage to fit the requirements

===== Nitro =====

* New virtualization tech for next gen EC2 instances
* Allows for better performance
	* Better networking options (HPC, IPv6)
	* Higher Speed EBS (necessary from 64.000 EPS IOPS - max 32.000 on non-Nitro)
* Better underlying security

===== vCPU =====

* Threads for multi-threaded CPUs
* The number can be increased or decreased
* Multithreading can be disabled only during instance launch

===== Capacity Reservation =====

* Ensure to have EC2 capacity when needed
* Manual or planned end-date
* No need for 1 or 3 year commitment
* Capacity access is immediate, you get billed as soon as it starts
* Can specify : 
	* The AZ (only one)
	* The number of  instances for wich to reserve
	* The instance type, tenancy and OS
* Can be combined with Reserved Instances and Saving Plans for cost saving
